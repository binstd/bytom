{"data":{"markdownRemark":{"html":"<p>在前面一篇文章，我们粗略的研究了一下比原的dashboard是如何做出来的，但是对里面提到的各种细节功能，并没有深入的去研究。那么从本文开始，我们将在这一段时间，分别研究里面提到的每一项功能。</p>\n<p>在前一篇文章中，当我们第一次在浏览器中打开dashboard时，因为还没有创建过密钥，所以比原会提示我们输入一些别名和密码，为我们创建一个密钥和相应的帐户。就是下面这张图所对应的：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/init-account-b43880120173108424153df616c779c1-fba39.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 834px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 101.55875299760191%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACuElEQVQ4y51VTU8TURTtbzAQiBssXxEFDIuqoLFQMP3AGDBsjYkCKlCJiivjxh+AUlsMsmDnyq0bde+GLRRMiCGiUbCdzkw7nZl2erz3zUylUD7CS07enb57z5zz3n1Tj7e5A02tF9BMaGzpRFu7D9f6wvBd7sXF7r4yuq/2o/vKAC71BOAPRMQ653OtC+byNDSeR219o8Cp2gacaWpHMDyMYGQY10NDGAgOIRS5hcGbI+I5GBlC+MYIIoSaOq+oq6n3ou50k6j1nOvw4cHkY0SnZzD1aAYTU09wb2wSY/ejYmbcZYxO2PGoHY+OT2Ey+hQPKT86/Qy374wLxR5/IAx3WKUSTjo2Nr6j5WwXPLxfmqYhlZaQSklISxnIiopCoQDDMGCa5oHgnHw+LwhXV9ccwt6QKOSFTCYDVVWgKIqIJUmCLMuwLAvFYtGG5YDiEjnK5XKiNrn2zVVoE/Iiv7FYtATBccHEPJLJdZvQLyyTOlkh2xlhhQe/gHEUIYuoIHQVaiSdbbJdBltVVbW63T2WdV3fb9miJF4oFMzynvIzFx6mkHOFwrX1/6fMxdmcRrZVpCSZksyKlnDtVwOT7rEcFkoUspeWJAG2yi/hduLZPqxiVXBtpUKnbUzTcIg0Isohm82KFuLZtb3bvhvvJ3QUGk6z6kTOMdvO60a5LY5t2e/s4U4qLW4Jz+LWEH5v75DKbOVJ70H5UJIVlkkdqVSpVbJkm7G7fVh5tRNmhSyG412W7T00qG1kQ4dGxaLH+MbwPh3RNvsau78vgi0lA9/yJ/iXv6Dt60d83vkJiQ5nK6cgrWsoHWLZNG3ClZWkTRjoHwT/9F79gw/KNpakX/h7gs/X5uYPtDJhZ1cPZmffYCmxiMX4As3vEI+9xdzcPGKxeTG/mksciNnXccQTC3j+4iX9DXTiHxQIMtl3mrFLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"init-account\"\n        title=\"\"\n        src=\"/static/init-account-b43880120173108424153df616c779c1-fba39.png\"\n        srcset=\"/static/init-account-b43880120173108424153df616c779c1-39105.png 210w,\n/static/init-account-b43880120173108424153df616c779c1-212e1.png 420w,\n/static/init-account-b43880120173108424153df616c779c1-fba39.png 834w\"\n        sizes=\"(max-width: 834px) 100vw, 834px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>那么本文就将研究一下，当我们点击了”Register”按钮以后，我们在前端页面上填写的参数，到底是如何一步步的传到比原的后端的。</p>\n<p>跟之前一样，我们将对这个问题进行细分，然后各个击破：</p>\n<ol>\n<li>前端：当我们填完表单，点了提交以后，比原在前端是如何发送数据的？</li>\n<li>后端：比原的后端是如何接收到数据的？</li>\n</ol>\n<h2 id=\"前端：当我们填完表单，点了提交以后，数据会发送到后端的哪个接口？\"><a href=\"#%E5%89%8D%E7%AB%AF%EF%BC%9A%E5%BD%93%E6%88%91%E4%BB%AC%E5%A1%AB%E5%AE%8C%E8%A1%A8%E5%8D%95%EF%BC%8C%E7%82%B9%E4%BA%86%E6%8F%90%E4%BA%A4%E4%BB%A5%E5%90%8E%EF%BC%8C%E6%95%B0%E6%8D%AE%E4%BC%9A%E5%8F%91%E9%80%81%E5%88%B0%E5%90%8E%E7%AB%AF%E7%9A%84%E5%93%AA%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%9F\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前端：当我们填完表单，点了提交以后，数据会发送到后端的哪个接口？</h2>\n<p>当我们点击了”Register”按钮，在前端页面中，一定会在某个地方触发一个向比原节点webapi接口发出请求的操作。究竟是访问的哪个web api？提交的数据又是什么样的呢？让我们先从前端代码中寻找一下。</p>\n<p>注意，比原的前端代码位于另一个项目仓库<a href=\"https://github.com/Bytom/dashboard\">bytom/dashboard</a>中。为了能与我们在本系列文章中使用的比原v1.0.1的代码相匹配，我找到了dashboard中的v1.0.0的代码，并且提交到了一个单独的项目中：<a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0\">freewind/bytom-dashboard-v1.0.0</a>。注意该项目代码未做任何修改，其<code class=\"gatsby-code-text\">master</code>分支对应于官方代码仓库的<code class=\"gatsby-code-text\">v1.0.0</code>分支。之所以要弄一个单独的出来，这是因为我们在文章中，每次引用一段代码的时候，都会给出相应的github上的链接，方便读者跳过去查看全貌，使用一个独立项目，会让这个过程更简便一些。</p>\n<p>由于比原的前端页面是使用<code class=\"gatsby-code-text\">React</code>为主的，所以我猜想在代码中，也该会有一个名为Register的组件，或者某个表单中有一个名为Register的按钮。经过搜索，我们幸运的发现了<a href=\"https://github.com/freewind/dashboard/blob/88bdb2aee30c7c70cb4750b0b34007b87ee1cdc3/src/features/app/components/Register/Register.jsx\">Register.jsx</a> 这个组件文件，它正好是我们需要的。</p>\n<p>经过高度简化后的代码如下：</p>\n<p><a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0/blob/master/src/features/app/components/Register/Register.jsx#L9-L148\">src/features/app/components/Register/Register.jsx#L9-L148</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Register</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token comment\">// 4. </span>\n  <span class=\"token function\">submitWithErrors</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 5. </span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">registerKey</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>_error<span class=\"token punctuation\">:</span> err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// ...</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token comment\">// ...</span>\n      <span class=\"token comment\">// 3.</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">onSubmit</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>submitWithErrors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token comment\">// 1.</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextField</span>\n          <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'账户别名'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Account Alias'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">placeholder</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'请输入账户别名...'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Please enter the account alias...'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">fieldProps</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>accountAlias<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextField</span>\n          <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'密钥别名'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Key Alias'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">placeholder</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'请输入密钥别名...'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Please enter the key alias...'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">fieldProps</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>keyAlias<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextField</span>\n          <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'密钥密码'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Key Password'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">placeholder</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'请输入密钥密码...'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Please enter the key password...'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">fieldProps</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>password<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">'</span>password<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TextField</span>\n          <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'重复输入密钥密码'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Repeat your key password'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">placeholder</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'请重复输入密钥密码...'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Please repeat the key password...'</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">fieldProps</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>repeatPassword<span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">'</span>password<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">/></span></span>\n\n        <span class=\"token comment\">// 2. </span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">'</span>submit<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">'</span>btn btn-primary<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">disabled</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>submitting<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">{</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">'zh'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'注册'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'Register'</span><span class=\"token punctuation\">}</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token comment\">// ....</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>上面的代码，共有5个地方需要注意，被我用数字标示出来了。注意这5个数字并不是从上到下标注，而是按照我们关注的顺序来的：</p>\n<ol>\n<li>表单上的各个输入框，就是我们填写别名和密码的地方。这里需要关注的是每个<code class=\"gatsby-code-text\">TextField</code>的<code class=\"gatsby-code-text\">fieldProps</code>属性，它对应我们提交到后台的数据的<code class=\"gatsby-code-text\">name</code></li>\n<li>就是那个“Register”按钮了。需要注意的是，它的<code class=\"gatsby-code-text\">type</code>是<code class=\"gatsby-code-text\">submit</code>，也就是说，点击它以后，将会触发所在<code class=\"gatsby-code-text\">form</code>的<code class=\"gatsby-code-text\">onSubmit</code>方法</li>\n<li>回到了<code class=\"gatsby-code-text\">form</code>的开头。注意它的<code class=\"gatsby-code-text\">onSubmit</code>里面，调用的是<code class=\"gatsby-code-text\">handleSubmit(this.submitWithErrors)</code>。其中的<code class=\"gatsby-code-text\">handleSubmit</code>是从该表单所使用的第三方<a href=\"https://github.com/erikras/redux-form\">redux-form</a>中传入的，用来处理表单提交，我们在这里不关注它，只需要知道我们需要把自己的处理函数<code class=\"gatsby-code-text\">this.submitWithErrors</code>传给它。而在后者中，我们将会调用比原节点提供的web api</li>\n<li>第3步中的<code class=\"gatsby-code-text\">this.submitWithErrors</code>最终将走到这里定义的<code class=\"gatsby-code-text\">submitWithErrors</code>函数</li>\n<li><code class=\"gatsby-code-text\">submitWithErrors</code>将会发起一个异步请求，最终调用由外部传进来的<code class=\"gatsby-code-text\">registerKey</code>函数</li>\n</ol>\n<p>从这里我们还看不到调用的是哪个api，所以我们必须继续去寻找<code class=\"gatsby-code-text\">registerKey</code>。很快就在同文件中找到了<code class=\"gatsby-code-text\">registerKey</code>：</p>\n<p><a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0/blob/master/src/features/app/components/Register/Register.jsx#L176-L180\">src/features/app/components/Register/Register.jsx#L176-L180</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token punctuation\">(</span>dispatch<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    registerKey<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span>actions<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span><span class=\"token function\">registerKey</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p>它又将会调用<code class=\"gatsby-code-text\">actions.core.registerKey</code>这个函数：</p>\n<p><a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0/blob/master/src/features/core/actions.js#L44-L87\">src/features/core/actions.js#L44-L87</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">registerKey</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>dispatch<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token comment\">// 1.1</span>\n    <span class=\"token keyword\">const</span> keyData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'alias'</span><span class=\"token punctuation\">:</span> data<span class=\"token punctuation\">.</span>keyAlias<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'password'</span><span class=\"token punctuation\">:</span> data<span class=\"token punctuation\">.</span>password\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// 1.2</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">chainClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mockHsm<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>keyData<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n        <span class=\"token comment\">// 2.1</span>\n        <span class=\"token keyword\">const</span> accountData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'root_xpubs'</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span>resp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>xpub<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'quorum'</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'alias'</span><span class=\"token punctuation\">:</span> data<span class=\"token punctuation\">.</span>accountAlias<span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">// 2.2</span>\n        <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type<span class=\"token punctuation\">:</span> <span class=\"token string\">'CREATE_REGISTER_KEY'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\">// 2.3</span>\n        <span class=\"token function\">chainClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>accounts<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>accountData<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n            <span class=\"token comment\">// 2.4</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type<span class=\"token punctuation\">:</span> <span class=\"token string\">'CREATE_REGISTER_ACCOUNT'</span><span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ...</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>可以看到，在这个函数中，做的事情还是很多的。而且并不是我一开始预料的调用一次后台接口就行了，而是调用了两次（分别是创建密钥和创建帐户）。下面进行分析：</p>\n<ol>\n<li><code class=\"gatsby-code-text\">1.1</code>是为了让后台创建密钥而需要准备的参数，一个是<code class=\"gatsby-code-text\">alias</code>，一个是<code class=\"gatsby-code-text\">password</code>，它们都是用户填写的</li>\n<li><code class=\"gatsby-code-text\">1.2</code>是调用后台用于创建密钥的接口，把<code class=\"gatsby-code-text\">keyData</code>传过去，并且拿到返回的<code class=\"gatsby-code-text\">resp</code>后，进行后续的处理</li>\n<li><code class=\"gatsby-code-text\">2.1</code>是为了让后台创建帐户而需要准备的参数，分别是<code class=\"gatsby-code-text\">root_xpubs</code>, <code class=\"gatsby-code-text\">quorum</code>和<code class=\"gatsby-code-text\">alias</code>，其中<code class=\"gatsby-code-text\">root_xpubs</code>是创建密钥后返回的公钥，<code class=\"gatsby-code-text\">quorum</code>目前不知道（TODO），<code class=\"gatsby-code-text\">alias</code>是用户填写的帐户别名</li>\n<li><code class=\"gatsby-code-text\">2.2</code>这一句没有作用（经过官方确认了），因为我在代码中没有找到处理<code class=\"gatsby-code-text\">CREATE_REGISTER_KEY</code>的代码。可以看这个issue<a href=\"https://github.com/Bytom/dashboard/issues/28\">#28</a></li>\n<li><code class=\"gatsby-code-text\">2.3</code>调用后台创建帐户，把<code class=\"gatsby-code-text\">accountData</code>传过去，可以拿到返回的<code class=\"gatsby-code-text\">resp</code></li>\n<li><code class=\"gatsby-code-text\">2.4</code>调用成功后，再使用redux的<code class=\"gatsby-code-text\">dispatch</code>函数分发一个<code class=\"gatsby-code-text\">CREATE_REGISTER_ACCOUNT</code>信息。不过这个信息好像也没有太大用处。</li>\n</ol>\n<p>关于<code class=\"gatsby-code-text\">CREATE_REGISTER_ACCOUNT</code>，我在代码中找到了两处相关：</p>\n<ol>\n<li><a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0/blob/master/src/features/core/reducers.js#L229-L234\">src/features/core/reducers.js#L229-L234</a></li>\n</ol>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">accountInit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>state <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">'CREATE_REGISTER_ACCOUNT'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> state\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<ol start=\"2\">\n<li><a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0/blob/master/src/features/app/reducers.js#L10-L115\">src/features/app/reducers.js#L10-L115</a></li>\n</ol>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">flashMessages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> action<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'CREATE_REGISTER_ACCOUNT'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">newSuccess</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">,</span> <span class=\"token string\">'CREATE_REGISTER_ACCOUNT'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>第一个看起来没什么用，第二个应该是用来在操作完成后，显示相关的错误信息。</p>\n<p>那就让我们把关注点放在<code class=\"gatsby-code-text\">1.2</code>和<code class=\"gatsby-code-text\">2.3</code>这两个后台调用的地方吧。</p>\n<ol>\n<li><code class=\"gatsby-code-text\">chainClient().mockHsm.keys.create(keyData)</code>对应的是：</li>\n</ol>\n<p><a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0/blob/master/src/sdk/api/mockHsmKeys.js#L3-L31\">src/sdk/api/mockHsmKeys.js#L3-L31</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mockHsmKeysAPI</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    create<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">,</span> cb<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> body <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">const</span> uri <span class=\"token operator\">=</span> body<span class=\"token punctuation\">.</span>xprv <span class=\"token operator\">?</span> <span class=\"token string\">'/import-private-key'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'/create-key'</span>\n\n      <span class=\"token keyword\">return</span> shared<span class=\"token punctuation\">.</span><span class=\"token function\">tryCallback</span><span class=\"token punctuation\">(</span>\n        client<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span>uri<span class=\"token punctuation\">,</span> body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=></span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        cb\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>可以看到在<code class=\"gatsby-code-text\">create</code>方法中，如果找不到<code class=\"gatsby-code-text\">body.xprv</code>（就是本文对应的情况），则会调用后台的<code class=\"gatsby-code-text\">/create-key</code>接口。经过一长串的跟踪，我们终于找到了一个。</p>\n<ol start=\"2\">\n<li><code class=\"gatsby-code-text\">chainClient().accounts.create(accountData)</code>对应的是：</li>\n</ol>\n<p><a href=\"https://github.com/freewind/bytom-dashboard-v1.0.0/blob/master/src/sdk/api/accounts.js#L3-L30\">src/sdk/api/accounts.js#L3-L30</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">accountsAPI</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    create<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">,</span> cb<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> shared<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">,</span> <span class=\"token string\">'/create-account'</span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>cb<span class=\"token punctuation\">,</span> skipArray<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>很快我们在这边，也找到了创建帐户时调用的接口为<code class=\"gatsby-code-text\">/create-account</code></p>\n<p>前端这边，我们终于分析完了。下一步，将进入比原的节点（也就是后端）。</p>\n<h2 id=\"后端：比原的后端是如何接收到数据的？\"><a href=\"#%E5%90%8E%E7%AB%AF%EF%BC%9A%E6%AF%94%E5%8E%9F%E7%9A%84%E5%90%8E%E7%AB%AF%E6%98%AF%E5%A6%82%E4%BD%95%E6%8E%A5%E6%94%B6%E5%88%B0%E6%95%B0%E6%8D%AE%E7%9A%84%EF%BC%9F\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>后端：比原的后端是如何接收到数据的？</h2>\n<p>如果我们对前一篇文章还有印象的话，会记得比原在启动之后，会在<code class=\"gatsby-code-text\">Node.initAndstartApiServer</code>方法中启动web api对应的http服务，并且在<code class=\"gatsby-code-text\">API.buildHandler()</code>方法中会配置很多的功能点，其中一定会有我们这里调用的接口。</p>\n<p>让我们看看<code class=\"gatsby-code-text\">API.buildHandler</code>方法：</p>\n<p><a href=\"https://github.com/freewind/bytom-v1.0.1/blob/master/api/api.go#L164-L244\">api/api.go#L164-L244</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-go\"><code class=\"gatsby-code-go\"><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">*</span>API<span class=\"token punctuation\">)</span> <span class=\"token function\">buildHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    walletEnable <span class=\"token operator\">:=</span> <span class=\"token boolean\">false</span>\n    m <span class=\"token operator\">:=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">NewServeMux</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token keyword\">if</span> a<span class=\"token punctuation\">.</span>wallet <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n\t\twalletEnable <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        <span class=\"token comment\">// ...</span>\n\t\tm<span class=\"token punctuation\">.</span><span class=\"token function\">Handle</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/create-account\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">jsonHandler</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>createAccount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// ...</span>\n\t\tm<span class=\"token punctuation\">.</span><span class=\"token function\">Handle</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/create-key\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">jsonHandler</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>pseudohsmCreateKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token comment\">// ...</span></code></pre>\n      </div>\n<p>很快，我们就发现了：</p>\n<ol>\n<li><code class=\"gatsby-code-text\">/create-account</code>: 对应<code class=\"gatsby-code-text\">a.createAccount</code></li>\n<li><code class=\"gatsby-code-text\">/create-key</code>: 对应<code class=\"gatsby-code-text\">a.pseudohsmCreateKey</code></li>\n</ol>\n<p>让我们先看一下<code class=\"gatsby-code-text\">a.pseudohsmCreateKey</code>：</p>\n<p><a href=\"https://github.com/freewind/bytom-v1.0.1/blob/master/api/hsm.go#L23-L32\">api/hsm.go#L23-L32</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-go\"><code class=\"gatsby-code-go\"><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">*</span>API<span class=\"token punctuation\">)</span> <span class=\"token function\">pseudohsmCreateKey</span><span class=\"token punctuation\">(</span>ctx context<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">,</span> in <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n\tAlias    <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"alias\"`</span>\n\tPassword <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"password\"`</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> Response <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>可以看到，<code class=\"gatsby-code-text\">pseudohsmCreateKey</code>的第二个参数，是一个<code class=\"gatsby-code-text\">struct</code>，它有两个字段，分别是<code class=\"gatsby-code-text\">Alias</code>和<code class=\"gatsby-code-text\">Password</code>，这正好和前面从前端传过来的参数<code class=\"gatsby-code-text\">keyData</code>对应。那么这个参数的值是怎么由提交的JSON数据转换过来的呢？上次我们说到，主要是由<code class=\"gatsby-code-text\">a.pseudohsmCreateKey</code>外面套着的那个<code class=\"gatsby-code-text\">jsonHandler</code>进行的，它会处理与http协议相关的操作，以及把JSON数据转换成这里需要的Go类型的参数，<code class=\"gatsby-code-text\">pseudohsmCreateKey</code>就可以直接用了。</p>\n<p>由于在这个小问题中，我们问题的边界是比原后台是如何拿到数据的，所以我们到这里就可以停止对这个方法的分析了。它具体是怎么创建密钥的，这在以后的文章中将详细讨论。</p>\n<p>再看<code class=\"gatsby-code-text\">a.createAccount</code>：</p>\n<p><a href=\"https://github.com/freewind/bytom-v1.0.1/blob/master/api/accounts.go#L15-L30\">api/accounts.go#L15-L30</a></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-go\"><code class=\"gatsby-code-go\"><span class=\"token comment\">// POST /create-account</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>a <span class=\"token operator\">*</span>API<span class=\"token punctuation\">)</span> <span class=\"token function\">createAccount</span><span class=\"token punctuation\">(</span>ctx context<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">,</span> ins <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n\tRootXPubs <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>chainkd<span class=\"token punctuation\">.</span>XPub <span class=\"token string\">`json:\"root_xpubs\"`</span>\n\tQuorum    <span class=\"token builtin\">int</span>            <span class=\"token string\">`json:\"quorum\"`</span>\n\tAlias     <span class=\"token builtin\">string</span>         <span class=\"token string\">`json:\"alias\"`</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> Response <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>与前面一样，这个方法的参数<code class=\"gatsby-code-text\">RootXPubs</code>、<code class=\"gatsby-code-text\">Quorum</code>和<code class=\"gatsby-code-text\">Alias</code>也是由前端提交，并且由<code class=\"gatsby-code-text\">jsonHandler</code>自动转换好的。</p>\n<p>当我们清楚了在本文中，前后端数据是如何交互的，就很容易推广到更多的情景。在前端还在很多的页面和表单，在很多地方都需要调用后端的接口，我相信按照本文的思路，应该都可以快速的找到。如果有比较特殊的情况，我们以后会再专门写文章讲解。</p>\n<hr>\n<p>如果你觉得这些文章对你非常有用，控制不住想打赏作者，可以有以下选择：</p>\n<ol>\n<li>BTM: <code class=\"gatsby-code-text\">0x6bcCfb7265d4aB0C1a71F7d19b9E581cae73D777</code></li>\n<li>BTC: <code class=\"gatsby-code-text\">1Af2Q23Y1kqgtgbryzjS7RxrnEmyvYuX4b</code></li>\n<li>ETH: <code class=\"gatsby-code-text\">0x6bcCfb7265d4aB0C1a71F7d19b9E581cae73D777</code></li>\n</ol>\n<p>多少请随意，心意最重要，我们一起努力吧！</p>","frontmatter":{"title":"Dashboard创建密钥时前端数据传后端","next":null,"prev":null},"fields":{"path":null,"slug":"docs/bytomanalysis-dashboard-work.html"}}},"pathContext":{"slug":"docs/bytomanalysis-dashboard-work.html"}}